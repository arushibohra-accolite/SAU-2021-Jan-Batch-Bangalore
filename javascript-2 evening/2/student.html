<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Details</title>
    <link rel="stylesheet" href="s1.css">
    <script type="text/javascript">
    
    class Student{

        constructor(fn,ln,roll,mob,email){
            this.firstName = fn;
            this.lastName = ln;
            this.rollno = roll;
            this.mob = mob;
            this.email = email;

        }

    }

    var studentObj = new Student();


function validateForm ()
{
    /*Using the object-form values*/
    var valid=true;
    var form = document.forms["Student_Details"]
    var firstName = form["First_Name"]
    var lastName = form["Last_Name"]
    var rollNumber = form["rollNumber"]
    var mobileNumber = form["MobileNumber"]
    var email = form["email"]
    var gender = form["gender"]
    var stream = form["stream"]
    var choice = form["choice"]

    if(firstName.value =="")
    {
        alert("Enter First Name!!!");
        valid=false;
    }
    if(lastName.value =="")
    {
        alert("Enter Last Name!!!");
        valid=false;
    }
    if(mobileNumber.value =="")
    {
        alert("Enter Mobile Number!!!");
        valid=false;
    }
    if(rollNumber.value =="")
    {
        alert("Enter Roll Number!!!");
        valid=false;
    }
    if(email.value == "")
    {   alert("Enter proper email address!!!");
        valid=false;
    }
    if((gender[0].checked==false) && (gender[1].checked==false))
    {
        alert('Please select Gender!!!');
        valid=false;
    }
    if(stream.selectedIndex==0)
    {
        alert('Enter stream details!!!');
        valid=false;
    }
    if(choice.checked==false){
        alert('Please agree to the conditions first!!!');
        valid=false;
    }
    if(valid==true){
        var firstName = document.getElementById("firstName").value;
        var lastName = document.getElementById("lastName").value;
        var mobileNumber = document.getElementById("mobileNumber").value;
        var email = document.getElementById("emailid").value;
        var rollNumber = document.getElementById("rollNumber").value;

        var temp = new Student(firstName, lastName, rollNumber, mobileNumber, email);
        studentObj = temp;

    
        document.getElementById("lengthFN").innerHTML = firstName;
        document.getElementById("lengthLN").innerHTML = lastName;
        document.getElementById("lengthMob").innerHTML = mobileNumber;
        document.getElementById("lengthEmail").innerHTML = email;
        document.getElementById("lengthNum").innerHTML = rollNumber;

        /*Use of IIF and console.log*/
        /*Automatically getting invoked and printing details on console*/
        (() =>{
            console.log(`The roll number is: ${rollNumber}`);
            console.log(`The fullname of student is: ${firstName}${lastName}`);
            console.log(`The mobile number is: ${mobileNumber}`);

        })();

        /*Demonstrating Closure*/
        var occupation= (()=> {
            var occu = prompt("Please enter your occupation", "Student");
            if(occu != null){
                document.getElementById("occ").innerHTML=" My Occupation is" + occu;
            }
        });
    }
}

function showDetails(){

    if(studentObj.rollno != rollNo.value || rollNo.value ==""){
        alert("Error: Either Rollno is blank or enter correct Rollno !!!");
        console.log(rollNo.value);
        console.log(studentObj.rollno);
    }
    else{
    det = "Details:";
    for(var x in studentObj){
        det += "\n" + studentObj[x];
    }
    alert(det);
}
}
    </script>
</head>
<body>
    <form name="Student_Details" method="post" action="" onsubmit="validateForm();return false">
        <h1> Student Details</h1>
        <p>First Name: <input type="text" id="firstName" name="First_Name" placeholder="Enter only alphabets" pattern="[a-zA-Z]+"></p>
        <p>Last Name: <input type="text" id="lastName" name="Last_Name" placeholder="Enter only alphabets" pattern="[a-zA-Z]+"></p>
        <p>Mobile Number: <input type="text" id="mobileNumber" name="MobileNumber" placeholder="Enter 10 digit number" pattern="[0-9]+" minlength="10" maxlength="10"></p>
        <p>Serial Number: <input type="text" id="rollNumber" name="rollNumber" placeholder="Enter only numbers" pattern="[0-9]+"></p>
        <p>Email Address:<input type="email" id="emailid" name="email" placeholder="For ex: abc@gmail.com" pattern="^[a-zA-Z0-9._]+@[a-zA-Z0-9._]+$"></p>
        <p>Gender: <input type="radio" id="gender" name="gender" value="Male"> Male
        <input type="radio" name="gender" value="Female"> Female</p>
        <p>Stream:
            <select name="stream">
                <option value="">Please select any one option:</option>
                <option value="PCM">PCM</option>
                <option value="PCB">PCB</option>
                <option value="Commerce">Commerce</option>
                <option value="Arts">Arts</option>
            </select></p>
        <p>Ready to submit?
            <input type="checkbox" name="choice" value="Yes">Yes</input>

        </p>
        <p><input type="submit" name="send" value="Submit"></p>
    </form>
    <p id = "getPara"><input type="text" id="rollNo" name="rollNumber" placeholder="Enter only numbers" pattern="[0-9]+">
        <input type = "button" id = "roll" value="Get Details" onclick = "showDetails()" ></p>
    <hr>
    <br>
    <h4>Serial Number: <span id = "lengthNum"></span></h4>
    <h4>First Name: <span id = "lengthFN"></span></h4>
    <h4>Last Name: <span id = "lengthLN"></span></h4>
    <h4>Mobile Number: <span id = "lengthMob"></span></h4>
    <h4>Email ID: <span id = "lengthEmail"></span></h4>
    <p id="occ"></p>

</body>
</html>